(this["webpackJsonptodos-list-hook"]=this["webpackJsonptodos-list-hook"]||[]).push([[0],{25:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var r=n(2),c=n.n(r),a=n(19),u=n.n(a),o=(n(25),n(6)),i=n(1),s=n.n(i),p=n(3),d=n(4),f=n(7),l=n(20),j=n.n(l),b=function(t){var e;return(e="https://api-nodejs-todolist.herokuapp.com/",j.a.create({baseURL:e,headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTA3ZGI0MDM4ZTdhNzAwMTcyMmE5NjAiLCJpYXQiOjE2Mjc5MDQ4MzJ9.voZzDJElzFQu_uW9dyvuHR-0250p3dOHuuSYxdydtvc"}}))(t).then((function(t){return t})).catch((function(t){return Promise.reject(t.response||t.message)}))},h=function(){var t=Object(p.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b({url:"task"}).then((function(t){return t})).catch((function(t){return console.log(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(p.a)(s.a.mark((function t(e){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r=e.completed,t.next=3,b({url:"task/".concat(n),method:"PUT",data:{completed:r}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(p.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b({url:"task/".concat(e),method:"DELETE"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(p.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b({url:"task",method:"POST",data:{description:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=n(0),k=Object(r.createContext)(),w=function(t){var e=Object(r.useState)([]),n=Object(d.a)(e,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){(function(){var t=Object(p.a)(s.a.mark((function t(){var e,n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:e=t.sent,n=e.data.data,console.log(n),n.length>0&&(r=n.map((function(t){return Object(f.a)(Object(f.a)({},t),{},{id:t._id})})),a(r));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(m.jsx)(k.Provider,{value:[c,a],children:t.children})},C=function(){var t=Object(r.useState)(!1),e=Object(d.a)(t,2),n=e[0],c=e[1],a=Object(r.useContext)(k),u=Object(d.a)(a,2),i=u[0],f=u[1],l=Object(r.useCallback)((function(){return i.filter((function(t){return!1===t.completed}))}),[i]);Object(r.useEffect)((function(){l().length>0?c(!1):c(!0)}),[n,l,i]);var j=function(){var t=Object(p.a)(s.a.mark((function t(e){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r=e.completed,t.next=3,O({id:n,completed:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(p.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:0===i.length?Object(m.jsx)("h2",{children:"Congratulations! Nothings to do"}):Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("label",{htmlFor:"all",children:[Object(m.jsx)("input",{type:"checkbox",name:"all",id:"all",onClick:function(){var t=Object(o.a)(i);t.forEach(function(){var t=Object(p.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.completed=!n,t.next=3,j({id:e.id,completed:e.completed});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),f(t),c(!n)},checked:n}),"All"]}),Object(m.jsxs)("p",{children:["You have ",l().length," to do"]}),Object(m.jsx)("button",{className:"DeleteAll",onClick:function(){Object(o.a)(i).forEach(function(){var t=Object(p.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e.id);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),f([])},children:"Delete All"})]})})},y=function(){var t=Object(r.useContext)(k),e=Object(d.a)(t,2),n=(e[0],e[1]),c=Object(r.useState)(""),a=Object(d.a)(c,2),u=a[0],o=a[1],i=Object(r.useRef)(),l=function(){var t=Object(p.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(p.a)(s.a.mark((function t(){var e,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:e=t.sent,(r=e.data.data).length>0&&(c=r.map((function(t){return Object(f.a)(Object(f.a)({},t),{},{id:t._id})})),n(c));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(p.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,l(u);case 3:j(),o(""),i.current.focus();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){i.current.focus()})),Object(m.jsx)("div",{children:Object(m.jsxs)("form",{autoComplete:"off",onSubmit:b,children:[Object(m.jsx)("input",{type:"text",name:"todos",id:"todos",ref:i,required:!0,placeholder:"What needs to be done?",value:u,onChange:function(t){return o(t.target.value.toLowerCase())}}),Object(m.jsx)("button",{type:"submit",children:"Create"})]})})},g=function(t){var e=t.todo,n=t.id,c=t.checkComplete,a=t.handleEditTodos,u=Object(r.useState)(!1),o=Object(d.a)(u,2),i=o[0],f=o[1],l=Object(r.useState)(e.description),j=Object(d.a)(l,2),b=j[0],h=j[1],O=Object(r.useContext)(k),v=Object(d.a)(O,2),w=v[0],C=v[1],y=Object(r.useCallback)(function(){var t=Object(p.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]),g=function(){var t=Object(p.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C(w.filter((function(t){return t.id!==e}))),t.next=3,y(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i?Object(m.jsxs)("li",{children:[Object(m.jsx)("input",{type:"text",id:"editValue",value:b,name:"editValue",onChange:function(t){return h(t.target.value.toLowerCase())}}),Object(m.jsx)("button",{onClick:function(){return function(t){f(!1),b?a(b,t):h(e.description)}(e.id)},children:"Save"})]}):Object(m.jsxs)("li",{className:e.completed?"active":"",children:[Object(m.jsxs)("label",{htmlFor:e.id,className:e.completed?"active":"",children:[Object(m.jsx)("input",{type:"checkbox",id:e.id,checked:e.completed,onChange:function(){return c(n)}}),e.description]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:"Edit",disabled:e.completed,onClick:function(t){f(!0)},children:"Edit"}),Object(m.jsx)("button",{className:"Delete",onClick:function(){return g(e.id)},children:"Delete"})]})]})},E=function(){var t=Object(r.useContext)(k),e=Object(d.a)(t,2),n=e[0],c=e[1],a=Object(r.useCallback)(function(){var t=Object(p.a)(s.a.mark((function t(e){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r=e.completed,t.next=3,O({id:n,completed:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]),u=function(){var t=Object(p.a)(s.a.mark((function t(e){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),(r=Object(o.a)(n)).forEach(function(){var t=Object(p.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.id!==e){t.next=4;break}return n.completed=!n.completed,t.next=4,a({id:n.id,completed:n.completed});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),c(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(t,e){var r=Object(o.a)(n);r.forEach((function(n){n.id===e&&(n.description=t)})),c(r)};return Object(m.jsx)("ul",{children:n.map((function(t,e){return Object(m.jsx)(g,{todo:t,id:t.id,checkComplete:u,handleEditTodos:i},e)}))})};var T=function(){return Object(m.jsx)(w,{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h1",{children:"To do List"}),Object(m.jsx)(y,{}),Object(m.jsx)(E,{}),Object(m.jsx)(C,{})]})})},N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,u=e.getTTFB;n(t),r(t),c(t),a(t),u(t)}))};u.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root")),N()}},[[46,1,2]]]);
//# sourceMappingURL=main.e3721e2f.chunk.js.map